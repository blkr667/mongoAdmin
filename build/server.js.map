{"version":3,"file":"server.js","sources":["webpack:///webpack/bootstrap 5759a1d66f6216ee7863","webpack:///external \"react\"","webpack:///external \"react-router-dom\"","webpack:///src/utils/dbClient.js","webpack:///src/components/admin/common/forms/InputText.jsx","webpack:///external \"react-redux\"","webpack:///external \"isomorphic-fetch\"","webpack:///external \"mongoose\"","webpack:///src/utils/authenticationHandler.js","webpack:///external \"prop-types\"","webpack:///src/components/AuthExample.jsx","webpack:///src/components/admin/common/forms/InputFile.jsx","webpack:///external \"passport\"","webpack:///src/db/schema/user.js","webpack:///external \"babel-polyfill\"","webpack:///src/server/server.js","webpack:///external \"express\"","webpack:///external \"body-parser\"","webpack:///external \"path\"","webpack:///external \"react-dom/server\"","webpack:///external \"redux\"","webpack:///src/reducers/index.js","webpack:///external \"react-router\"","webpack:///src/components/Html.jsx","webpack:///src/components/App.jsx","webpack:///src/components/public/LoginPage.jsx","webpack:///src/utils/usersService.js","webpack:///src/utils/authService.js","webpack:///src/utils/customizedPagesService.js","webpack:///src/components/public/LogoutPage.jsx","webpack:///src/components/admin/AdminPanel.jsx","webpack:///src/components/admin/Home.jsx","webpack:///src/components/admin/AdminNavbar.jsx","webpack:///src/components/admin/About.jsx","webpack:///src/components/admin/users/UserList.jsx","webpack:///src/components/admin/users/UserListItem.jsx","webpack:///src/components/admin/users/UserCreate.jsx","webpack:///src/components/admin/users/UserEdit.jsx","webpack:///src/components/admin/users/User.jsx","webpack:///src/components/admin/customized/CustomizedPageList.jsx","webpack:///src/components/admin/customized/CustomizedPageListItem.jsx","webpack:///src/components/admin/customized/CustomizedPageCreate.jsx","webpack:///src/components/admin/customized/CustomizedPage.jsx","webpack:///src/components/admin/common/heading/HeadingList.jsx","webpack:///src/components/admin/common/heading/HeadingListItem.jsx","webpack:///src/components/admin/common/heading/HeadingCreate.jsx","webpack:///src/components/admin/common/paragraph/ParagraphList.jsx","webpack:///src/components/admin/common/paragraph/ParagraphListItem.jsx","webpack:///src/components/admin/common/paragraph/ParagraphCreate.jsx","webpack:///src/components/admin/common/forms/InputArea.jsx","webpack:///src/components/admin/common/image/ImageList.jsx","webpack:///src/components/admin/common/image/ImageListItem.jsx","webpack:///src/components/admin/common/image/ImageCreate.jsx","webpack:///src/components/admin/customized/CustomizedPageMeta.jsx","webpack:///src/components/admin/NotFoundPage.jsx","webpack:///src/components/public/ForbiddenPage.jsx","webpack:///src/components/public/MainNavbar.jsx","webpack:///src/components/public/LogoutButton.jsx","webpack:///src/components/auth/PrivateRoute.jsx","webpack:///src/components/auth/ProtectedRoute.jsx","webpack:///src/server/routes/auth-routes.js","webpack:///external \"passport-local\"","webpack:///external \"passport-local-mongoose\"","webpack:///src/server/routes/user-routes.js","webpack:///src/server/routes/customized-page-routes.js","webpack:///src/db/schema/customized-page.js","webpack:///external \"multer\"","webpack:///external \"express-session\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5759a1d66f6216ee7863","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"react-router-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-dom\"\n// module id = 1\n// module chunks = 0","import fetch from 'isomorphic-fetch';\r\n\r\nimport usersService from './usersService'\r\nimport authService from './authService'\r\nimport customizedPagesService from './customizedPagesService'\r\n\r\nconst dbClient = {\r\n    users: usersService,\r\n    auth: authService,\r\n    customizedPages: customizedPagesService\r\n}\r\n\r\n\r\nexport default dbClient;\n\n\n// WEBPACK FOOTER //\n// src/utils/dbClient.js","import React from 'react';\r\n\r\nclass InputText extends React.Component {\r\n    render() {\r\n        const {label, inputValue, disabled, onChange} = this.props;\r\n        return <div className=\"input-group mb-3\">\r\n            <div className=\"input-group-prepend\">\r\n                <span className=\"input-group-text\" id=\"basic-addon3\">{label}</span>\r\n            </div>\r\n            <input\r\n                disabled={disabled}\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Enter text\"\r\n                value={inputValue}\r\n                onChange={onChange}\r\n            />\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default InputText;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/common/forms/InputText.jsx","module.exports = require(\"react-redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-redux\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"isomorphic-fetch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"isomorphic-fetch\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 6\n// module chunks = 0","import fetch from 'isomorphic-fetch';\r\n\r\nconst fetchAsync = async (url) => await (await fetch(url)).json();\r\n\r\nconst syncFetch = async (url) => {\r\n    const response = await fetch(url);\r\n    const json = await response.json();\r\n}\r\n\r\nconst authenticationHandler = {\r\n    isAuthenticated(handleAuthCallback) {\r\n        fetch(\"http://localhost:3000/authcheck\")\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                handleAuthCallback(res.status);\r\n            });\r\n    },\r\n\r\n    authenticate(handleAuthCallback, user) {\r\n        fetch(\"http://localhost:3000/login\",\r\n            {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(user)\r\n            })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                handleAuthCallback(res.status);\r\n            });\r\n    },\r\n\r\n    createUser(handleAuthCallback, user) {\r\n        fetch(\"http://localhost:3000/register\",\r\n            {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(user)\r\n            })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                handleAuthCallback(res.status);\r\n            });\r\n    },\r\n\r\n    authenticate2(handleAuthCallback) {\r\n        fetch(\"http://localhost:3000/login\")\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                handleAuthCallback(res.status);\r\n            });\r\n    },\r\n\r\n    logout(handleAuthCallback) {\r\n        fetch(\"http://localhost:3000/logout\")\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                handleAuthCallback(res.status);\r\n            });\r\n    }\r\n};\r\n\r\nexport default authenticationHandler;\n\n\n// WEBPACK FOOTER //\n// src/utils/authenticationHandler.js","module.exports = require(\"prop-types\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = 8\n// module chunks = 0","import React from 'react'\r\nimport {\r\n    BrowserRouter as Router,\r\n    Route,\r\n    Link,\r\n    Redirect,\r\n    withRouter\r\n} from 'react-router-dom'\r\n\r\nconst fakeAuth = {\r\n    isAuthenticated: false,\r\n    authenticate(cb) {\r\n        this.isAuthenticated = true\r\n        setTimeout(cb, 100)\r\n    },\r\n    signout(cb) {\r\n        this.isAuthenticated = false\r\n        setTimeout(cb, 100)\r\n    }\r\n}\r\n\r\nconst Public = () => <h3>Public</h3>\r\nconst Protected = () => <h3>Protected</h3>\r\n\r\nclass Login extends React.Component {\r\n    state = {\r\n        redirectToReferrer: false\r\n    };\r\n    login = () => {\r\n        fakeAuth.authenticate(() => {\r\n            this.setState(() => ({\r\n                redirectToReferrer: true\r\n            }))\r\n        })\r\n    };\r\n    render() {\r\n        const { from } = this.props.location.state || { from: { pathname: '/' } }\r\n        const { redirectToReferrer } = this.state\r\n\r\n        if (redirectToReferrer === true) {\r\n            return <Redirect to={from} />\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <p>You must log in to view the page</p>\r\n                <button onClick={this.login}>Log in</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={(props) => (\r\n        fakeAuth.isAuthenticated === true\r\n            ? <Component {...props} />\r\n            : <Redirect to={{\r\n                pathname: '/login',\r\n                state: { from: props.location }\r\n            }} />\r\n    )} />\r\n)\r\n\r\nconst AuthButton = withRouter(({ history }) => (\r\n    fakeAuth.isAuthenticated ? (\r\n        <p>\r\n            Welcome! <button onClick={() => {\r\n            fakeAuth.signout(() => history.push('/'))\r\n        }}>Sign out</button>\r\n        </p>\r\n    ) : (\r\n        <p>You are not logged in.</p>\r\n    )\r\n))\r\n\r\nexport default function AuthExample () {\r\n    return (\r\n        <Router>\r\n            <div>\r\n                <AuthButton/>\r\n                <ul>\r\n                    <li><Link to=\"/admin/public\">Public Page</Link></li>\r\n                    <li><Link to=\"/admin/protected\">Protected Page</Link></li>\r\n                </ul>\r\n                <Route path=\"/admin/public\" component={Public}/>\r\n                <Route path=\"/login\" component={Login}/>\r\n                <PrivateRoute path='/admin/protected' component={Protected} />\r\n            </div>\r\n        </Router>\r\n    )\r\n}\n\n\n// WEBPACK FOOTER //\n// src/components/AuthExample.jsx","import React from 'react';\r\n\r\nclass InputFile extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.fileInput = React.createRef();\r\n        this.handleFile = this.handleFile.bind(this);\r\n    }\r\n    handleFile(e) {\r\n        const {onChange} = this.props;\r\n        const file = this.fileInput.current.files[0];\r\n        let reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onloadend = () => {\r\n            onChange({\r\n                fileName: file.name,\r\n                fileType: file.type,\r\n                base64image: reader.result.split(',')[1]\r\n            });\r\n        };\r\n        e.preventDefault();\r\n    }\r\n\r\n    render() {\r\n        const {label, inputValue, disabled} = this.props;\r\n        const fullBase64img = getBase64Image(inputValue)\r\n        return <React.Fragment>\r\n            <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-prepend\">\r\n                    <span className=\"input-group-text\" id=\"basic-addon3\">{label}</span>\r\n                </div>\r\n                <div className=\"custom-file\">\r\n                    <input\r\n                        disabled={disabled}\r\n                        type=\"file\"\r\n                        className=\"custom-file-input\"\r\n                        onChange={this.handleFile}\r\n                        ref={this.fileInput}\r\n                        />\r\n                    <label className=\"custom-file-label text-nowrap\">{inputValue && inputValue.fileName || 'Choose file'}</label>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                {inputValue && <img  className=\"img-thumbnail\" src={fullBase64img} width='200px' />}\r\n            </div>\r\n        </React.Fragment>\r\n    }\r\n}\r\n\r\nfunction getBase64Image(inputValue) {\r\n    if(inputValue) {\r\n        const base64img = inputValue.base64image ? inputValue.base64image : encode(inputValue.buffer.data);\r\n        return `data:${inputValue.fileType};base64,${base64img}`;\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction encode (input) {\r\n    const keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n    let output = \"\";\r\n    let chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n    let i = 0;\r\n\r\n    while (i < input.length) {\r\n        chr1 = input[i++];\r\n        chr2 = i < input.length ? input[i++] : Number.NaN; // Not sure if the index\r\n        chr3 = i < input.length ? input[i++] : Number.NaN; // checks are needed here\r\n\r\n        enc1 = chr1 >> 2;\r\n        enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\r\n        enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\r\n        enc4 = chr3 & 63;\r\n\r\n        if (isNaN(chr2)) {\r\n            enc3 = enc4 = 64;\r\n        } else if (isNaN(chr3)) {\r\n            enc4 = 64;\r\n        }\r\n        output += keyStr.charAt(enc1) + keyStr.charAt(enc2) +\r\n            keyStr.charAt(enc3) + keyStr.charAt(enc4);\r\n    }\r\n    return output;\r\n}\r\n\r\nexport default InputFile;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/common/forms/InputFile.jsx","module.exports = require(\"passport\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport\"\n// module id = 11\n// module chunks = 0","var mongoose = require('mongoose');\r\nvar passportLocalMongoose = require(\"passport-local-mongoose\");\r\n\r\nvar UserSchema = new mongoose.Schema({\r\n    displayName: String,\r\n    username: String,\r\n    password: String\r\n});\r\n\r\nUserSchema.plugin(passportLocalMongoose);\r\n\r\nvar User = mongoose.model(\"User\", UserSchema);\r\n\r\nmodule.exports = User;\n\n\n// WEBPACK FOOTER //\n// src/db/schema/user.js","module.exports = require(\"babel-polyfill\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-polyfill\"\n// module id = 14\n// module chunks = 0","import express from 'express';\r\nimport mongoose from 'mongoose';\r\nimport bodyParser from 'body-parser';\r\n\r\nimport path from 'path';\r\nimport React from 'react';\r\nimport ReactDOMServer from 'react-dom/server';\r\nimport { createStore } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport reducers from '../reducers/index';\r\nimport { StaticRouter } from 'react-router';\r\nimport Html from '../components/Html';\r\nimport App from '../components/App';\r\nimport addAuthRoutes from './routes/auth-routes'\r\nimport addUsersRoutes from './routes/user-routes'\r\nimport addCustomizedPageRoutes from './routes/customized-page-routes'\r\n\r\n\r\nconst app = express();\r\n\r\napp.use(express.static(path.join(__dirname)));\r\n\r\nmongoose.connect(\"mongodb://localhost/mango\");\r\nconst connection = mongoose.connection;\r\nconnection.on('error', console.error.bind(console, 'connection error:'));\r\nconnection.once('open', function() {\r\n    console.log(\"we're connected!\");\r\n});\r\n\r\napp.use(require('express-session')({\r\n    secret: \"Crystal is something\",\r\n    resave: false,\r\n    saveUninitialized: false\r\n}));\r\n\r\napp.use(bodyParser.urlencoded({extended: true}));\r\napp.use(bodyParser.json())\r\n\r\naddAuthRoutes(app);\r\naddUsersRoutes(app);\r\naddCustomizedPageRoutes(app);\r\n\r\napp.use(async (req, res) => {\r\n    const scripts = ['vendor.js', 'client.js'];\r\n\r\n    const initialState = {\r\n        initialText: \"rendered on the server\",\r\n        authenticated: req.isAuthenticated()\r\n    };\r\n    const context = {};\r\n\r\n    const store = createStore(reducers, initialState);\r\n\r\n    const appMarkup = ReactDOMServer.renderToString((\r\n        <StaticRouter location={req.url} context={context}>\r\n            <Provider store={store}>\r\n                <App />\r\n            </Provider>\r\n        </StaticRouter>\r\n    ));\r\n    const html = ReactDOMServer.renderToStaticMarkup(<Html children={appMarkup} scripts={scripts} initialState={initialState} />);\r\n\r\n    res.send(`<!doctype html>${html}`);\r\n});\r\n\r\napp.listen(3000, () => console.log('Listening on localhost:3000'));\r\n\n\n\n// WEBPACK FOOTER //\n// src/server/server.js","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = 20\n// module chunks = 0","export default function reducer(state, action) {\r\n  switch (action.type) {\r\n    case 'CHANGE_TEXT':\r\n      return { ...state, initialText: 'changed in the browser!' };\r\n    case 'AUTHENTICATE':\r\n        return { ...state, authenticated: true, loggedUser: action.username };\r\n    case 'LOG_OUT':\r\n        return { ...state, authenticated: false, loggedUser: null };\r\n    case 'SET_ACTIVE_TAB':\r\n        return { ...state, loggedUser: action.selectedTab };\r\n    default:\r\n      return { ...state };\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// src/reducers/index.js","module.exports = require(\"react-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router\"\n// module id = 22\n// module chunks = 0","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Html extends React.Component {\r\n  static propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    initialState: PropTypes.object,\r\n    scripts: PropTypes.array\r\n  }\r\n\r\n  render () {\r\n    const { children, initialState, scripts } = this.props;\r\n\r\n    return (\r\n      <html>\r\n        <head>\r\n          <meta charSet=\"UTF-8\" />\r\n          <title>Server Side Rendered React App!!</title>\r\n        </head>\r\n        <body>\r\n          <div id=\"app\"\r\n               dangerouslySetInnerHTML={{ __html: children }}\r\n          ></div>\r\n          {initialState && (\r\n            <script\r\n              dangerouslySetInnerHTML={{\r\n                __html: `window.APP_STATE=${JSON.stringify(initialState)}`\r\n              }}\r\n            ></script>\r\n          )}\r\n          {scripts.map((item, index) => {\r\n            return <script key={index} src={item}></script>;\r\n          })}\r\n        </body>\r\n      </html>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Html;\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Html.jsx","import React from 'react';\r\nimport { withRouter, Route, Link, Switch } from 'react-router-dom';\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nimport LoginPage from './public/LoginPage';\r\nimport LogoutPage from './public/LogoutPage';\r\nimport AdminPanel from './admin/AdminPanel';\r\n\r\nimport ForbiddenPage from './public/ForbiddenPage';\r\nimport MainNavbar from './public/MainNavbar';\r\nimport PrivateRoute from './auth/PrivateRoute';\r\nimport ProtectedRoute from './auth/ProtectedRoute';\r\n\r\nimport authenticationHandler from '../utils/authenticationHandler';\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        const {authenticated} = props;\r\n        this.state = {\r\n            authenticated\r\n        };\r\n        this.setAuthenticated = this.setAuthenticated.bind(this);\r\n    }\r\n\r\n    setAuthenticated() {\r\n        this.setState({authenticated: true});\r\n    }\r\n\r\n\r\n    render() {\r\n        const {authenticated} = this.props;\r\n        return (\r\n                <div className=\"login-background\">\r\n                    <MainNavbar/>\r\n\r\n                    <div className=\"container\">\r\n                        <Switch>\r\n                            <Route component={LoginPage} path=\"/\" exact/>\r\n                            <Route component={LoginPage} path=\"/loginPage\"/>\r\n                            <Route component={LogoutPage} path=\"/logoutPage\"/>\r\n                            <ProtectedRoute component={AdminPanel} path=\"/admin\" authenticated={authenticated}/>\r\n                            <Route component={ForbiddenPage}/>\r\n                        </Switch>\r\n                    </div>\r\n\r\n                </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { authenticated: state.authenticated };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(App));\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/App.jsx","import React from 'react';\r\nimport {\r\n    Redirect, withRouter\r\n} from 'react-router-dom'\r\n\r\nimport dbClient from '../../utils/dbClient';\r\nimport {connect} from \"react-redux\";\r\n\r\nclass LoginPage extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            redirectToReferrer: false,\r\n            errorMsg: null\r\n        };\r\n        this.login = this.login.bind(this);\r\n        this.setUsername = this.setUsername.bind(this);\r\n        this.setPassword = this.setPassword.bind(this);\r\n    }\r\n\r\n    setUsername(event) {\r\n        this.setState({username: event.target.value});\r\n    }\r\n\r\n    setPassword(event) {\r\n        this.setState({password: event.target.value});\r\n    }\r\n\r\n\r\n    login() {\r\n        const user = {username: this.state.username, password: this.state.password};\r\n        dbClient.auth.login(\r\n            (authenticationStatus) => {\r\n                this.props.authenticate(user.username);\r\n                this.setState({redirectToReferrer: authenticationStatus});\r\n            },\r\n            (errorMsg) => {\r\n                this.setState({errorMsg});\r\n            },\r\n            user);\r\n    }\r\n\r\n    handleKeyPress = (event) => {\r\n        if(event.key == 'Enter'){\r\n            if(this.state.username && this.state.password) {\r\n                this.login();\r\n            } else {\r\n                this.setState({errorMsg: \"Enter username and password\"});\r\n            }\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { from } = this.props.location.state || { from: { pathname: '/admin' } };\r\n        const { redirectToReferrer, errorMsg } = this.state;\r\n        if (redirectToReferrer) {\r\n            return <Redirect to={from} />\r\n        }\r\n\r\n        return (\r\n            <div className=\"jumbotron mx-auto mb-md-3 mt-md-3 w-50\" onKeyPress={this.handleKeyPress}>\r\n                <h3 className=\"display-4\">Login page!</h3>\r\n\r\n                <input type=\"text\" placeholder=\"Enter username\" onChange={this.setUsername} required className=\"form-control mt-md-3\" />\r\n                <input type=\"password\" placeholder=\"Enter password\" onChange={this.setPassword} required className=\"form-control mt-md-3\"  />\r\n\r\n                {this.state.username && this.state.password ?\r\n                    <button type=\"button\" onClick={this.login} className=\"btn btn-primary mt-md-3\">\r\n                        Log in\r\n                    </button> :\r\n                    <button type=\"button\" className=\"btn btn-primary mt-md-3 disabled\">\r\n                        Log in\r\n                    </button>\r\n                }\r\n\r\n                {errorMsg &&\r\n                    <div className=\"mt-md-3 alert alert-danger\" role=\"alert\">\r\n                        <strong> Can not login</strong>\r\n                        <p>{errorMsg}</p>\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        authenticate: (username) => {\r\n            dispatch({type: \"AUTHENTICATE\", username})\r\n        }\r\n    };\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return { authenticated: state.authenticated };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(LoginPage));\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/public/LoginPage.jsx","import fetch from 'isomorphic-fetch';\r\n\r\nconst usersService = {\r\n    fetchUsers(cb) {\r\n        fetch(\"http://localhost:3000/users\")\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                cb(res);\r\n            });\r\n    },\r\n    fetchUser(id, cb) {\r\n        fetch(\"http://localhost:3000/users/\" + id )\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                cb(res);\r\n            });\r\n    },\r\n    createUser(user, cb) {\r\n        fetch(\"http://localhost:3000/users\",\r\n            {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(user)\r\n            })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                cb(res);\r\n            });\r\n    },\r\n    deleteUser(id, cb) {\r\n        fetch(\"http://localhost:3000/users/\" + id,\r\n            {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                cb(res);\r\n            });\r\n    },\r\n    editUser(user, cb) {\r\n        fetch(\"http://localhost:3000/users/\" + user._id,\r\n            {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(user)\r\n            })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                cb(res);\r\n            });\r\n    }\r\n};\r\n\r\nexport default usersService;\n\n\n// WEBPACK FOOTER //\n// src/utils/usersService.js","import fetch from 'isomorphic-fetch';\r\n\r\nconst authService = {\r\n    login(handleAuthCallback, errorCallback, user) {\r\n        fetch(\"http://localhost:3000/login\",\r\n            {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(user)\r\n            })\r\n            .then(res => {\r\n                if(res.status === 200)\r\n                    return res.json();\r\n                errorCallback(res.status + \": \" + res.statusText)\r\n            }).then(\r\n                res => {handleAuthCallback(res.status)}\r\n            ).catch( err => {\r\n                console.log(\"catch: \" + err);\r\n            });\r\n    },\r\n    logout(handleAuthCallback) {\r\n        fetch(\"http://localhost:3000/logout\")\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                handleAuthCallback(res.status);\r\n            });\r\n    }\r\n};\r\n\r\nexport default authService;\n\n\n// WEBPACK FOOTER //\n// src/utils/authService.js","import fetch from 'isomorphic-fetch';\r\n\r\nconst customizedPagesService = {\r\n    fetchList(cb) {\r\n        fetch(\"http://localhost:3000/customizedPages\")\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                cb(res);\r\n            });\r\n    },\r\n    fetch(name, cb) {\r\n        fetch(\"http://localhost:3000/customizedPages/\" + name )\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                cb(res);\r\n            });\r\n    },\r\n    delete(id, cb) {\r\n        fetch(\"http://localhost:3000/customizedPages/\" + id,\r\n            {method: 'DELETE'})\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                cb(res);\r\n            });\r\n    },\r\n    create(customizedPage, cb) {\r\n        fetch(\"http://localhost:3000/customizedPages\",\r\n            {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(customizedPage)\r\n            })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                cb(res);\r\n            });\r\n    },\r\n    edit(customizedPage, cb) {\r\n        fetch(\"http://localhost:3000/customizedPages/\",\r\n            {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(customizedPage)\r\n            })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                cb(res);\r\n            });\r\n    },\r\n    addHeading(pageId, newHeading, cb) {\r\n        fetch(\"http://localhost:3000/customizedPages/heading/\" + pageId,\r\n            {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(newHeading)\r\n            })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                cb(res);\r\n            });\r\n    },\r\n    deleteHeading(pageId, heading, cb) {\r\n        fetch(\"http://localhost:3000/customizedPages/heading/\" + pageId,\r\n            {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(heading)\r\n            })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                cb(res);\r\n            });\r\n    },\r\n    editHeading(pageId, heading, cb) {\r\n        fetch(\"http://localhost:3000/customizedPages/heading/\" + pageId,\r\n            {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(heading)\r\n            })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                cb(res);\r\n            });\r\n    },\r\n    addParagraph(pageId, paragraph, cb) {\r\n        fetch(\"http://localhost:3000/customizedPages/paragraph/\" + pageId,\r\n            {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(paragraph)\r\n            })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                cb(res);\r\n            });\r\n    },\r\n    deleteParagraph(pageId, paragraph, cb) {\r\n        fetch(\"http://localhost:3000/customizedPages/paragraph/\" + pageId,\r\n            {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(paragraph)\r\n            })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                cb(res);\r\n            });\r\n    },\r\n    editParagraph(pageId, paragraph, cb) {\r\n        fetch(\"http://localhost:3000/customizedPages/paragraph/\" + pageId,\r\n            {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(paragraph)\r\n            })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                cb(res);\r\n            });\r\n    },\r\n    addImage(pageId, imageFormData, cb) {\r\n        fetch(\"http://localhost:3000/customizedPages/image/\" + pageId,\r\n            {\r\n                method: 'POST',\r\n                body: imageFormData\r\n            })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                cb(res);\r\n            });\r\n    },\r\n    editImage(pageId, imageFormData, cb) {\r\n        fetch(\"http://localhost:3000/customizedPages/image/\" + pageId,\r\n            {\r\n                method: 'PUT',\r\n                body: imageFormData\r\n            })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                cb(res);\r\n            });\r\n    },\r\n    deleteImage(pageId, image, cb) {\r\n        fetch(\"http://localhost:3000/customizedPages/image/\" + pageId,\r\n            {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(image)\r\n            })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                cb(res);\r\n            });\r\n    }\r\n};\r\n\r\nexport default customizedPagesService;\n\n\n// WEBPACK FOOTER //\n// src/utils/customizedPagesService.js","import React from 'react';\r\nimport {\r\n    Link, withRouter\r\n} from 'react-router-dom';\r\nclass LogoutPage extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"jumbotron  mb-md-3 mt-md-3\">\r\n                <h3 className=\"display-4\">Logged out successfully!</h3>\r\n\r\n                <Link to=\"/loginPage\">\r\n                    <button className=\"btn btn-primary btn-md\" type=\"button\">\r\n                        Go to Login Page\r\n                    </button>\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default LogoutPage;\n\n\n// WEBPACK FOOTER //\n// src/components/public/LogoutPage.jsx","import React from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Route,\r\n    Link,\r\n    Switch\r\n} from 'react-router-dom';\r\nimport Home from './Home';\r\nimport AdminNavbar from './AdminNavbar';\r\nimport About from './About';\r\nimport UserList from './users/UserList';\r\nimport UserCreate from './users/UserCreate';\r\nimport UserEdit from './users/UserEdit';\r\nimport User from './users/User';\r\n\r\nimport CustomizedPageList from './customized/CustomizedPageList';\r\nimport CustomizedPageCreate from './customized/CustomizedPageCreate';\r\nimport CustomizedPage from './customized/CustomizedPage';\r\n\r\nimport NotFoundPage from './NotFoundPage';\r\n\r\nclass AdminPanel extends React.Component {\r\n\r\n    render() {\r\n        return <div>\r\n\r\n            <AdminNavbar />\r\n\r\n                        <Switch>\r\n                            <Route exact path=\"/admin/\" component={Home}/>\r\n                            <Route path=\"/admin/home\" component={Home}/>\r\n                            <Route path=\"/admin/about\" component={About}/>\r\n\r\n                            <Route exact path=\"/admin/customizedPages\" component={CustomizedPageList}/>\r\n                            <Route exact path=\"/admin/customizedPages/new\" component={CustomizedPageCreate}/>\r\n                            <Route exact path=\"/admin/customizedPages/:id\" component={CustomizedPage}/>\r\n\r\n                            <Route exact path=\"/admin/users\" component={UserList}/>\r\n                            <Route exact path=\"/admin/users/new\" component={UserCreate}/>\r\n                            <Route exact path=\"/admin/users/:id\" component={User}/>\r\n                            <Route exact path=\"/admin/users/:id/edit\" component={UserEdit}/>\r\n\r\n                            <Route component={NotFoundPage}/>\r\n                        </Switch>\r\n\r\n        </div>;\r\n    }\r\n}\r\n\r\nexport default AdminPanel;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/AdminPanel.jsx","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport AuthExample from '../AuthExample';\r\nclass Home extends React.Component {\r\n  static propTypes = {\r\n    initialText: PropTypes.string.isRequired,\r\n    changeText: PropTypes.func.isRequired\r\n  }\r\n\r\n\r\n  onButtonClick(event) {\r\n    event.preventDefault();\r\n\r\n    this.props.changeText();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        HOME\r\n        <p>{this.props.initialText}</p>\r\n        <button onClick={this.onButtonClick.bind(this)}>change text!</button>\r\n          <AuthExample/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { ...state };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    changeText: () => dispatch({ type: 'CHANGE_TEXT' })\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/admin/Home.jsx","import React from 'react';\r\nimport {\r\n    Link, NavLink\r\n} from 'react-router-dom';\r\nclass AdminNavbar extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <nav className=\"navbar navbar-expand-lg navbar-light bg-dark\">\r\n                <span className=\"my-2 my-lg-0\">\r\n                    <NavLink className=\"btn btn-sm btn-success ml-1\" activeClassName=\"btn-outline-success\" to=\"/admin/home\">\r\n                        Home\r\n                    </NavLink>\r\n                    <NavLink className=\"btn btn-sm btn-success ml-1\" activeClassName=\"btn-outline-success\" to=\"/admin/about\">\r\n                        About\r\n                    </NavLink>\r\n                    <NavLink className=\"btn btn-sm btn-success ml-1\" activeClassName=\"btn-outline-success\" to=\"/admin/users\">\r\n                        Users\r\n                    </NavLink>\r\n                    <NavLink className=\"btn btn-sm btn-success ml-1\" activeClassName=\"btn-outline-success\" to=\"/admin/customizedPages\">\r\n                        Customized pages\r\n                    </NavLink>\r\n\r\n\r\n\r\n                        <button className=\"btn btn-sm btn-success ml-1 disabled\" type=\"button\">\r\n                            Blog\r\n                        </button>\r\n                        <button className=\"btn btn-sm btn-success ml-1 disabled\" type=\"button\">\r\n                            Pages\r\n                        </button>\r\n                        <button className=\"btn btn-sm btn-success ml-1 disabled\" type=\"button\">\r\n                            Tags\r\n                        </button>\r\n                        <button className=\"btn btn-sm btn-success ml-1 disabled\" type=\"button\">\r\n                            Account Settings\r\n                        </button>\r\n                        <button className=\"btn btn-sm btn-success ml-1 disabled\" type=\"button\">\r\n                            Blog\r\n                        </button>\r\n                </span>\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AdminNavbar;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/AdminNavbar.jsx","import React from 'react';\r\nimport AuthExample from '../AuthExample';\r\nconst About = () => {\r\n  return (\r\n    <div>\r\n      <h1>About</h1>\r\n      <p>Some information about the page</p>\r\n        <AuthExample/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default About;\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/admin/About.jsx","import React from 'react';\r\nimport dbClient from '../../../utils/dbClient';\r\nimport {\r\n    Link\r\n} from 'react-router-dom'\r\nimport UserListItem from './UserListItem'\r\nclass UserList extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.setUserList = this.setUserList.bind(this);\r\n        this.state = {\r\n            users: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        dbClient.users.fetchUsers(this.setUserList);\r\n    }\r\n\r\n    setUserList(users) {\r\n        this.setState({users});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"jumbotron bg-light mt-md-3\">\r\n                <h2>Users</h2>\r\n\r\n                <ul className=\"list-group mb-3 w-50\">\r\n                        {this.state.users.map(\r\n                            user =>\r\n                                <UserListItem key={user.username} user={user} />\r\n                        )}\r\n                </ul>\r\n                <Link to=\"/admin/users/new\">\r\n                    <button className=\"btn btn-primary mt-md-2 btn-md\">Create new user</button>\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UserList;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/users/UserList.jsx","import React from 'react';\r\nimport {\r\n    Link\r\n} from 'react-router-dom'\r\nclass UserListItem extends React.Component {\r\n\r\n    render() {\r\n        const {user} = this.props;\r\n        return (\r\n\r\n                    <li className=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n                        <div>\r\n                            <h6 className=\"my-0\">{user.username}</h6>\r\n                            <small className=\"text-muted\">{user.displayName}</small>\r\n                        </div>\r\n                        <span className=\"text-muted\">\r\n                            <Link to={\"/admin/users/\"+user._id}>\r\n                                <button className=\"float-right btn btn-light btn-sm ml-1\">Show details</button>\r\n                            </Link>\r\n                        </span>\r\n                    </li>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default UserListItem;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/users/UserListItem.jsx","import React from 'react';\r\nimport {\r\n    Link, withRouter\r\n} from 'react-router-dom'\r\n\r\nimport dbClient from '../../../utils/dbClient';\r\n\r\nclass UserCreate extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.createUser = this.createUser.bind(this);\r\n        this.setUsername = this.setUsername.bind(this);\r\n        this.setPassword = this.setPassword.bind(this);\r\n        this.setDisplayName = this.setDisplayName.bind(this);\r\n    }\r\n\r\n    setUsername(event) {\r\n        this.setState({username: event.target.value});\r\n    }\r\n\r\n    setPassword(event) {\r\n        this.setState({password: event.target.value});\r\n    }\r\n\r\n    setDisplayName(event) {\r\n        this.setState({displayName: event.target.value});\r\n    }\r\n\r\n    createUser() {\r\n        const {history} = this.props;\r\n        const user = {\r\n            username: this.state.username,\r\n            password: this.state.password,\r\n            displayName: this.state.displayName\r\n        };\r\n        dbClient.users.createUser(\r\n            user,\r\n            (authenticationStatus) => {\r\n                history.push('/admin/users');\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"jumbotron bg-light mt-md-3\">\r\n                <div className=\"card w-50\">\r\n                    <div className=\"card-header\">\r\n                        Create user:\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4 \">\r\n                                <strong className=\"card-title float-right\">username:</strong>\r\n                            </div>\r\n                            <div className=\"col-md-6\">\r\n                                <input type=\"text\" placeholder=\"Enter Username\" onChange={this.setUsername} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4\">\r\n                                <strong className=\"card-title float-right\" >display name:</strong>\r\n                            </div>\r\n                            <div className=\"col-md-6\">\r\n                                <input type=\"text\" placeholder=\"Enter displayName\" onChange={this.setDisplayName} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4\">\r\n                                <strong className=\"card-title float-right\">password:</strong>\r\n                            </div>\r\n                            <div className=\"col-md-6\">\r\n                                <input type=\"password\" placeholder=\"Enter password\" onChange={this.setPassword} />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <Link to=\"/admin/users\">\r\n                            <button className=\"btn  btn-success btn-md mr-1\">Go back to Users</button>\r\n                        </Link>\r\n                        <button className=\"btn btn-primary btn-md  mr-1\" onClick={this.createUser}>Create user</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(UserCreate);\n\n\n// WEBPACK FOOTER //\n// src/components/admin/users/UserCreate.jsx","import React from 'react';\r\nimport {\r\n    Link\r\n} from 'react-router-dom'\r\n\r\nimport dbClient from '../../../utils/dbClient';\r\n\r\nclass UserEditForm extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.editUser = this.editUser.bind(this);\r\n        this.setUsername = this.setUsername.bind(this);\r\n        this.setDisplayName = this.setDisplayName.bind(this);\r\n        this.setUser = this.setUser.bind(this);\r\n        this.redirectToUserList = this.redirectToUserList.bind(this);\r\n        this.state = {\r\n            user:null,\r\n            modified: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {id} = this.props.match.params;\r\n        dbClient.users.fetchUser(id, this.setUser);\r\n    }\r\n\r\n    setUsername(event) {\r\n        this.setState({user: {...this.state.user, username: event.target.value}});\r\n    }\r\n\r\n    setDisplayName(event) {\r\n        this.setState({user: {...this.state.user, displayName: event.target.value}});\r\n    }\r\n\r\n    editUser() {\r\n        dbClient.users.editUser(this.state.user, this.redirectToUserList);\r\n    }\r\n\r\n    setUser(user) {\r\n        this.setState({user});\r\n    }\r\n\r\n    redirectToUserList(user) {\r\n        if (user)\r\n            this.setState({modified: true});\r\n    }\r\n\r\n    render() {\r\n        if(!this.state.user)\r\n            return <div>Loading user...</div>\r\n\r\n        if(this.state.modified)\r\n            return <Redirect to={'/admin/users'} />\r\n\r\n        return (\r\n\r\n                <div className=\"jumbotron bg-light mt-md-3\">\r\n                    <div className=\"card w-50\">\r\n                        <div className=\"card-header\">\r\n                            Edit user:\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-md-4 \">\r\n                                    <strong className=\"card-title float-right\">username:</strong>\r\n                                </div>\r\n                                <div className=\"col-md-6\">\r\n                                    <input value={this.state.user.username} type=\"text\" placeholder=\"Enter Username\" onChange={this.setUsername} />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div className=\"col-md-4\">\r\n                                    <strong className=\"card-title float-right\" >display name:</strong>\r\n                                </div>\r\n                                <div className=\"col-md-6\">\r\n                                    <input value={this.state.user.displayName} type=\"text\" placeholder=\"Enter display name\" onChange={this.setDisplayName} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"card-body\">\r\n                            <Link to=\"/admin/users\">\r\n                                <button className=\"btn  btn-success btn-md mr-1\">Go back to Users</button>\r\n                            </Link>\r\n                            <button className=\"btn btn-primary btn-md  mr-1\" onClick={this.editUser}>Modify user</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UserEditForm;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/users/UserEdit.jsx","import React from 'react';\r\nimport {\r\n    Redirect,\r\n    Link\r\n} from 'react-router-dom'\r\n\r\nimport dbClient from '../../../utils/dbClient';\r\n\r\nclass User extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            user: null,\r\n            deleted: false\r\n        };\r\n        this.setUser = this.setUser.bind(this);\r\n        this.deleteUser = this.deleteUser.bind(this);\r\n        this.redirectToUserList = this.redirectToUserList.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {id} = this.props.match.params;\r\n        dbClient.users.fetchUser(id, this.setUser);\r\n    }\r\n\r\n    setUser(user) {\r\n        this.setState({user});\r\n    }\r\n\r\n    redirectToUserList(user) {\r\n        if (user)\r\n            this.setState({deleted: true});\r\n    }\r\n\r\n    deleteUser() {\r\n        dbClient.users.deleteUser(this.state.user._id, this.redirectToUserList);\r\n    }\r\n\r\n    render() {\r\n        if(!this.state.user)\r\n            return <div>Loading user...</div>;\r\n\r\n        if(this.state.deleted)\r\n            return <Redirect to={'/admin/users'} />\r\n\r\n        return (\r\n            <div className=\"jumbotron bg-light mt-md-3\">\r\n\r\n                <div className=\"card w-50\">\r\n                    <div className=\"card-header\">\r\n                        User details:\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4 \">\r\n                                <strong className=\"card-title float-right\">username:</strong>\r\n                            </div>\r\n                            <div className=\"col-md-6\">\r\n                                {this.state.user.username}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4\">\r\n                                <strong className=\"card-title float-right\" >display name:</strong>\r\n                            </div>\r\n                            <div className=\"col-md-6\">\r\n                                {this.state.user.displayName}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <Link to=\"/admin/users\">\r\n                            <button className=\"btn  btn-success btn-md mr-1\">Go back to Users</button>\r\n                        </Link>\r\n                        <button className=\"btn btn-primary btn-md mr-1\" onClick={this.deleteUser}>Delete</button>\r\n                        <Link to={`/admin/users/${this.state.user._id}/edit`}>\r\n                            <button className=\"btn btn-primary btn-md mr-1\">Edit</button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default User;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/users/User.jsx","import React from 'react';\r\nimport dbClient from '../../../utils/dbClient';\r\nimport {\r\n    Link\r\n} from 'react-router-dom'\r\nimport CustomizedPageListItem from './CustomizedPageListItem'\r\n\r\nclass CustomizedPageList extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.setPageList = this.setPageList.bind(this);\r\n        this.state = {\r\n            pages: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        dbClient.customizedPages.fetchList(this.setPageList);\r\n    }\r\n\r\n    setPageList(pages) {\r\n        this.setState({pages});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"jumbotron bg-light mt-md-3\">\r\n                <h2>Customized Pages</h2>\r\n\r\n                <ul className=\"list-group mb-3 w-50\">\r\n                    {this.state.pages.map(\r\n                        page =>\r\n                            <CustomizedPageListItem\r\n                                key={page.name}\r\n                                page={page} />\r\n                    )}\r\n                </ul>\r\n                <Link to=\"/admin/customizedPages/new\">\r\n                    <button className=\"btn btn-primary mt-md-2 btn-md\">Create customized page</button>\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default CustomizedPageList;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/customized/CustomizedPageList.jsx","import React from 'react';\r\nimport {\r\n    Link\r\n} from 'react-router-dom'\r\nimport dbClient from '../../../utils/dbClient';\r\n\r\nclass CustomizedPageListItem extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {deleted: false};\r\n        this.deleteCustomizedPage = this.deleteCustomizedPage.bind(this);\r\n    }\r\n    deleteCustomizedPage() {\r\n        const {page} = this.props;\r\n        dbClient.customizedPages.delete(page._id,  () => {\r\n            this.setState({deleted: true})\r\n        })\r\n\r\n    }\r\n    render() {\r\n        const {page} = this.props;\r\n        if(this.state.deleted)\r\n            return null;\r\n        return (\r\n\r\n                    <li className=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n                        <div>\r\n                            <h6 className=\"my-0\">{page.name}</h6>\r\n                        </div>\r\n                        <span className=\"text-muted\">\r\n                            <Link to={\"/admin/customizedPages/\" + page.name}>\r\n                                <button className=\"btn btn-primary mt-md-2 btn-md\">Show</button>\r\n                            </Link>\r\n                        </span>\r\n                    </li>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default CustomizedPageListItem;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/customized/CustomizedPageListItem.jsx","import React from 'react';\r\nimport {\r\n    Link, withRouter\r\n} from 'react-router-dom'\r\n\r\nimport InputText from '../common/forms/InputText';\r\n\r\nimport dbClient from '../../../utils/dbClient';\r\n\r\nclass CustomizedPageCreate extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            name: \"\",\r\n            value: \"\"\r\n        };\r\n        this.setName = this.setName.bind(this);\r\n        this.setValue = this.setValue.bind(this);\r\n        this.createPage = this.createPage.bind(this);\r\n    }\r\n    setName(event) {\r\n        this.setState({name: event.target.value});\r\n    }\r\n    setValue(event) {\r\n        this.setState({value: event.target.value});\r\n    }\r\n    createPage() {\r\n        const {history} = this.props;\r\n        const page = {\r\n            name: this.state.name,\r\n            value: this.state.value\r\n        };\r\n        dbClient.customizedPages.create(\r\n            page,\r\n            () => {\r\n                history.push('/admin/customizedPages/' + page.name);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"jumbotron bg-light mt-md-3\">\r\n                <div className=\"card w-50\">\r\n                    <div className=\"card-header text-white bg-secondary\">\r\n                        <h5>Create customized page</h5>\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <InputText label=\"Name\" inputValue={this.state.name} onChange={this.setName}/>\r\n                        <InputText label=\"Value\" inputValue={this.state.value} onChange={this.setValue}/>\r\n                        <Link to=\"/admin/customizedPages\">\r\n                            <button className=\"btn  btn-success btn-md mr-1\">Go back to Customized Pages</button>\r\n                        </Link>\r\n                        <button className=\"btn btn-primary btn-md  mr-1\" onClick={this.createPage}>Create page</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(CustomizedPageCreate);\n\n\n// WEBPACK FOOTER //\n// src/components/admin/customized/CustomizedPageCreate.jsx","import React from 'react';\r\nimport {\r\n    Link, withRouter\r\n} from 'react-router-dom'\r\n\r\nimport HeadingList from '../common/heading/HeadingList';\r\nimport ParagraphList from '../common/paragraph/ParagraphList';\r\nimport ImageList from '../common/image/ImageList';\r\nimport CustomizedPageMeta from './CustomizedPageMeta';\r\n\r\nimport dbClient from '../../../utils/dbClient';\r\n\r\nclass CustomizedPage extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {page: null};\r\n        this.setPage = this.setPage.bind(this);\r\n        this.refresh = this.refresh.bind(this);\r\n        this.deleteCustomizedPage = this.deleteCustomizedPage.bind(this);\r\n    }\r\n    setPage(page) {\r\n        this.setState({page});\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refresh();\r\n    }\r\n\r\n    refresh() {\r\n        const pageName = this.props.match.params.id;\r\n        dbClient.customizedPages.fetch(pageName, this.setPage);\r\n    }\r\n    deleteCustomizedPage() {\r\n        const page = this.state.page;\r\n        const {history} = this.props;\r\n        history.push('/admin/customizedPages');\r\n        dbClient.customizedPages.delete(page._id)\r\n    }\r\n\r\n    render() {\r\n        const page = this.state.page;\r\n        const urlId = this.props.match.params.id;\r\n        if(!page)\r\n            return null;\r\n        return (\r\n            <div className=\"jumbotron bg-light mt-md-3\">\r\n                <div className=\"card w-50\">\r\n                    <CustomizedPageMeta refresh={this.refresh} page={page} urlId={urlId}/>\r\n                    <HeadingList refresh={this.refresh} headings={page.headings} id={page._id}/>\r\n                    <ParagraphList refresh={this.refresh} paragraphs={page.paragraphs} id={page._id}/>\r\n                    <ImageList refresh={this.refresh} images={page.images} id={page._id}/>\r\n                    <button\r\n                        onClick={this.deleteCustomizedPage}\r\n                        className=\"btn btn-danger mt-md-2 btn-md\"\r\n                        type=\"button\"\r\n                    >Delete</button>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(CustomizedPage);\n\n\n// WEBPACK FOOTER //\n// src/components/admin/customized/CustomizedPage.jsx","import React from 'react';\r\nimport {\r\n    Redirect,\r\n    Link\r\n} from 'react-router-dom'\r\n\r\nimport HeadingListItem from './HeadingListItem';\r\nimport HeadingCreate from './HeadingCreate';\r\n\r\nclass HeadingList extends React.Component {\r\n    render() {\r\n        const {headings, id, refresh} = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"card-header text-white bg-secondary\"><h4>Headings</h4></div>\r\n                {headings && headings.map(\r\n                    heading =>\r\n                        <HeadingListItem refresh={refresh} key={heading.name} heading={heading} id={id}/>\r\n                )}\r\n                <HeadingCreate id={id} refresh={refresh}/>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default HeadingList;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/common/heading/HeadingList.jsx","import React from 'react';\r\nimport {\r\n    Redirect,\r\n    Link\r\n} from 'react-router-dom'\r\nimport InputText from '../forms/InputText';\r\nimport dbClient from '../../../../utils/dbClient';\r\n\r\nclass HeadingListItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            disabled: true,\r\n            name: props.heading.name,\r\n            value: props.heading.value\r\n        };\r\n        this.setName = this.setName.bind(this);\r\n        this.setValue = this.setValue.bind(this);\r\n        this.edit = this.edit.bind(this);\r\n        this.cancel = this.cancel.bind(this);\r\n        this.save = this.save.bind(this);\r\n        this.delete = this.delete.bind(this);\r\n    }\r\n    edit() {\r\n        this.setState({disabled: false});\r\n    }\r\n    save() {\r\n        const {name, value} = this.state;\r\n        const {id, refresh} = this.props;\r\n        dbClient.customizedPages.editHeading(id, {name, value}, refresh);\r\n        this.setState({disabled: true});\r\n    }\r\n    delete() {\r\n        const {name} = this.state;\r\n        const {id, refresh} = this.props;\r\n        dbClient.customizedPages.deleteHeading(id, {name}, refresh);\r\n    }\r\n    cancel() {\r\n        this.setState({disabled: true});\r\n    }\r\n    setName(event) {\r\n        this.setState({name: event.target.value});\r\n    }\r\n    setValue(event) {\r\n        this.setState({value: event.target.value});\r\n    }\r\n    render() {\r\n        const {disabled, name, value} = this.state;\r\n        return <div className={disabled ? \"card-body\" : \"card-body text-white bg-info\"}>\r\n                <InputText disabled={true} label=\"Name\" inputValue={name} onChange={this.setName} />\r\n                <InputText disabled={disabled} label=\"Value\" inputValue={value} onChange={this.setValue} />\r\n                <div className=\"btn-group\" role=\"group\">\r\n                    {disabled && <button className=\"btn btn-primary\" type=\"button\" onClick={this.edit}>Edit</button>}\r\n                    {disabled && <button className=\"btn btn-danger\" type=\"button\" onClick={this.delete}>Delete</button>}\r\n                    {!disabled && <button className=\"btn btn-success\" type=\"button\" onClick={this.save}>Save</button>}\r\n                    {!disabled && <button className=\"btn btn-secondary\" type=\"button\" onClick={this.cancel}>Cancel</button>}\r\n                </div>\r\n            </div>;\r\n    }\r\n}\r\n\r\nexport default HeadingListItem;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/common/heading/HeadingListItem.jsx","import React from 'react';\r\nimport InputText from '../forms/InputText';\r\nimport dbClient from '../../../../utils/dbClient';\r\n\r\nclass HeadingCreate extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            creation: false,\r\n            name: \"\",\r\n            value: \"\"\r\n        };\r\n        this.setName = this.setName.bind(this);\r\n        this.setValue = this.setValue.bind(this);\r\n        this.create = this.create.bind(this);\r\n        this.cancel = this.cancel.bind(this);\r\n        this.save = this.save.bind(this);\r\n    }\r\n    create() {\r\n        this.setState({creation: true});\r\n    }\r\n    save() {\r\n        const {name, value} = this.state;\r\n        const {id, refresh} = this.props;\r\n        const newHeading = {name, value, type: \"heading\"};\r\n        dbClient.customizedPages.addHeading(id, newHeading, refresh)\r\n    }\r\n    cancel() {\r\n        this.setState({creation: false});\r\n    }\r\n    setName(event) {\r\n        this.setState({name: event.target.value});\r\n    }\r\n    setValue(event) {\r\n        this.setState({value: event.target.value});\r\n    }\r\n\r\n    render() {\r\n        const {creation, name, value} = this.state;\r\n\r\n        if(!creation)\r\n            return <div className=\"card-body\">\r\n                <div className=\"btn-group\" role=\"group\">\r\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={this.create}>Add new heading</button>\r\n                </div>\r\n            </div>;\r\n\r\n        return <div className=\"card-body text-white bg-info\">\r\n                Create new heading:\r\n                <InputText label=\"Name\" inputValue={name} onChange={this.setName} />\r\n                <InputText label=\"Value\" inputValue={value} onChange={this.setValue} />\r\n                <div className=\"btn-group\" role=\"group\">\r\n                    <button className=\"btn btn-success\" type=\"button\" onClick={this.save}>Save</button>\r\n                    <button className=\"btn btn-secondary\" type=\"button\" onClick={this.cancel}>Cancel</button>\r\n                </div>\r\n            </div>;\r\n    }\r\n}\r\n\r\nexport default HeadingCreate;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/common/heading/HeadingCreate.jsx","import React from 'react';\r\nimport {\r\n    Redirect,\r\n    Link\r\n} from 'react-router-dom'\r\n\r\nimport ParagraphListItem from './ParagraphListItem';\r\nimport ParagraphCreate from './ParagraphCreate';\r\n\r\nclass ParagraphList extends React.Component {\r\n    render() {\r\n        const {paragraphs, id, refresh} = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"card-header text-white bg-secondary\"><h4>Paragraphs</h4></div>\r\n                {paragraphs && paragraphs.map(\r\n                    paragraph =>\r\n                        <ParagraphListItem refresh={refresh} key={paragraph.name} paragraph={paragraph} id={id}/>\r\n                )}\r\n                <ParagraphCreate id={id} refresh={refresh}/>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ParagraphList;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/common/paragraph/ParagraphList.jsx","import React from 'react';\r\nimport {\r\n    Redirect,\r\n    Link\r\n} from 'react-router-dom'\r\nimport InputText from '../forms/InputText';\r\nimport dbClient from '../../../../utils/dbClient';\r\n\r\nclass ParagraphListItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            disabled: true,\r\n            name: props.paragraph.name,\r\n            value: props.paragraph.value\r\n        };\r\n        this.setName = this.setName.bind(this);\r\n        this.setValue = this.setValue.bind(this);\r\n        this.edit = this.edit.bind(this);\r\n        this.cancel = this.cancel.bind(this);\r\n        this.save = this.save.bind(this);\r\n        this.delete = this.delete.bind(this);\r\n    }\r\n    edit() {\r\n        this.setState({disabled: false});\r\n    }\r\n    save() {\r\n        const {name, value} = this.state;\r\n        const {id, refresh} = this.props;\r\n        dbClient.customizedPages.editParagraph(id, {name, value}, refresh);\r\n        this.setState({disabled: true});\r\n    }\r\n    delete() {\r\n        const {name} = this.state;\r\n        const {id, refresh} = this.props;\r\n        dbClient.customizedPages.deleteParagraph(id, {name}, refresh);\r\n    }\r\n    cancel() {\r\n        this.setState({disabled: true});\r\n    }\r\n    setName(event) {\r\n        this.setState({name: event.target.value});\r\n    }\r\n    setValue(event) {\r\n        this.setState({value: event.target.value});\r\n    }\r\n    render() {\r\n        const {disabled, name, value} = this.state;\r\n        return <div className={disabled ? \"card-body\" : \"card-body text-white bg-info\"}>\r\n                <InputText disabled={true} label=\"Name\" inputValue={name} onChange={this.setName} />\r\n                <InputText disabled={disabled} label=\"Value\" inputValue={value} onChange={this.setValue} />\r\n                <div className=\"btn-group\" role=\"group\">\r\n                    {disabled && <button className=\"btn btn-primary\" type=\"button\" onClick={this.edit}>Edit</button>}\r\n                    {disabled && <button className=\"btn btn-danger\" type=\"button\" onClick={this.delete}>Delete</button>}\r\n                    {!disabled && <button className=\"btn btn-success\" type=\"button\" onClick={this.save}>Save</button>}\r\n                    {!disabled && <button className=\"btn btn-secondary\" type=\"button\" onClick={this.cancel}>Cancel</button>}\r\n                </div>\r\n            </div>;\r\n    }\r\n}\r\n\r\nexport default ParagraphListItem;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/common/paragraph/ParagraphListItem.jsx","import React from 'react';\r\nimport InputText from '../forms/InputText';\r\nimport InputArea from '../forms/InputArea';\r\nimport dbClient from '../../../../utils/dbClient';\r\n\r\nclass ParagraphCreate extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            creation: false,\r\n            name: \"\",\r\n            value: \"\"\r\n        };\r\n        this.setName = this.setName.bind(this);\r\n        this.setValue = this.setValue.bind(this);\r\n        this.create = this.create.bind(this);\r\n        this.cancel = this.cancel.bind(this);\r\n        this.save = this.save.bind(this);\r\n    }\r\n    create() {\r\n        this.setState({creation: true});\r\n    }\r\n    save() {\r\n        const {name, value} = this.state;\r\n        const {id, refresh} = this.props;\r\n        const newParagraph = {name, value, type: \"paraprah\"};\r\n        dbClient.customizedPages.addParagraph(id, newParagraph, refresh)\r\n    }\r\n    cancel() {\r\n        this.setState({creation: false});\r\n    }\r\n    setName(event) {\r\n        this.setState({name: event.target.value});\r\n    }\r\n    setValue(event) {\r\n        this.setState({value: event.target.value});\r\n    }\r\n\r\n    render() {\r\n        const {creation, name, value} = this.state;\r\n\r\n        if(!creation)\r\n            return <div className=\"card-body\">\r\n                <div className=\"btn-group\" role=\"group\">\r\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={this.create}>Add new paragraph</button>\r\n                </div>\r\n            </div>;\r\n\r\n        return <div className=\"card-body text-white bg-info\">\r\n                Create new paragraph:\r\n                <InputText label=\"Name\" inputValue={name} onChange={this.setName} />\r\n                <InputArea label=\"Value\" inputValue={value} onChange={this.setValue} />\r\n                <div className=\"btn-group\" role=\"group\">\r\n                    <button className=\"btn btn-success\" type=\"button\" onClick={this.save}>Save</button>\r\n                    <button className=\"btn btn-secondary\" type=\"button\" onClick={this.cancel}>Cancel</button>\r\n                </div>\r\n            </div>;\r\n    }\r\n}\r\n\r\nexport default ParagraphCreate;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/common/paragraph/ParagraphCreate.jsx","import React from 'react';\r\n\r\nclass InputArea extends React.Component {\r\n    render() {\r\n        const {label, inputValue, disabled, onChange} = this.props;\r\n        return <div className=\"input-group mb-3\">\r\n            <div className=\"input-group-prepend\">\r\n                <span className=\"input-group-text\" id=\"basic-addon3\">{label}</span>\r\n            </div>\r\n            <textarea\r\n                rows=\"4\"\r\n                disabled={disabled}\r\n                className=\"form-control\"\r\n                placeholder=\"Enter text\"\r\n                value={inputValue}\r\n                onChange={onChange}\r\n            />\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default InputArea;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/common/forms/InputArea.jsx","import React from 'react';\r\nimport {\r\n    Redirect,\r\n    Link\r\n} from 'react-router-dom'\r\n\r\nimport ImageListItem from './ImageListItem';\r\nimport ImageCreate from './ImageCreate';\r\n\r\nclass ImageList extends React.Component {\r\n\r\n\r\n    render() {\r\n        const {images, id, refresh} = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"card-header text-white bg-secondary\"><h4>Images</h4></div>\r\n                {images && images.map(\r\n                    image =>\r\n                        <ImageListItem refresh={refresh} key={image.name} image={image} id={id}/>\r\n                )}\r\n                <ImageCreate id={id} refresh={refresh}/>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ImageList;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/common/image/ImageList.jsx","import React from 'react';\r\nimport {\r\n    Redirect,\r\n    Link\r\n} from 'react-router-dom'\r\nimport InputText from '../forms/InputText';\r\nimport InputFile from '../forms/InputFile';\r\nimport dbClient from '../../../../utils/dbClient';\r\n\r\nclass ImageListItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            disabled: true,\r\n            value: props.image.value\r\n        };\r\n        this.setName = this.setName.bind(this);\r\n        this.setValue = this.setValue.bind(this);\r\n        this.edit = this.edit.bind(this);\r\n        this.cancel = this.cancel.bind(this);\r\n        this.save = this.save.bind(this);\r\n        this.delete = this.delete.bind(this);\r\n    }\r\n    edit() {\r\n        this.setState({disabled: false});\r\n    }\r\n    save() {\r\n        const {value} = this.state;\r\n        const {id, refresh, image: {name}} = this.props;\r\n        const formImageData = new FormData();\r\n        formImageData.append(\"name\", name);\r\n        formImageData.append(\"base64image\", value.base64image);\r\n        formImageData.append(\"fileName\", value.fileName);\r\n        formImageData.append(\"fileType\", value.fileType);\r\n        dbClient.customizedPages.editImage(id, formImageData, refresh);\r\n        this.setState({disabled: true});\r\n    }\r\n    delete() {\r\n        const {id, refresh, image: {name}} = this.props;\r\n        dbClient.customizedPages.deleteImage(id, {name}, refresh);\r\n    }\r\n    cancel() {\r\n        this.setState({disabled: true});\r\n    }\r\n    setName(event) {\r\n        this.setState({name: event.target.value});\r\n    }\r\n    setValue(file) {\r\n        this.setState({value: file});\r\n    }\r\n    render() {\r\n        const {image: {name}} = this.props;\r\n        const {disabled, value} = this.state;\r\n        return <div className={disabled ? \"card-body\" : \"card-body text-white bg-info\"}>\r\n                <InputText disabled={true} label=\"Name\" inputValue={name} onChange={this.setName} />\r\n                <InputFile disabled={disabled} label=\"Value\" inputValue={value} onChange={this.setValue} />\r\n                <div className=\"btn-group mt-3\" role=\"group\">\r\n                    {disabled && <button className=\"btn btn-primary\" type=\"button\" onClick={this.edit}>Edit</button>}\r\n                    {disabled && <button className=\"btn btn-danger\" type=\"button\" onClick={this.delete}>Delete</button>}\r\n                    {!disabled && <button className=\"btn btn-success\" type=\"button\" onClick={this.save}>Save</button>}\r\n                    {!disabled && <button className=\"btn btn-secondary\" type=\"button\" onClick={this.cancel}>Cancel</button>}\r\n                </div>\r\n            </div>;\r\n    }\r\n}\r\n\r\nexport default ImageListItem;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/common/image/ImageListItem.jsx","import React from 'react';\r\nimport InputText from '../forms/InputText';\r\nimport InputFile from '../forms/InputFile';\r\nimport dbClient from '../../../../utils/dbClient';\r\n\r\nclass ImageCreate extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            creation: false,\r\n            name: \"\",\r\n            value: null\r\n        };\r\n        this.setName = this.setName.bind(this);\r\n        this.setValue = this.setValue.bind(this);\r\n        this.create = this.create.bind(this);\r\n        this.cancel = this.cancel.bind(this);\r\n        this.save = this.save.bind(this);\r\n    }\r\n    create() {\r\n        this.setState({creation: true});\r\n    }\r\n    save() {\r\n        const {name, value} = this.state;\r\n        const {id, refresh} = this.props;\r\n        const formImageData = new FormData();\r\n        formImageData.append(\"name\", name);\r\n        formImageData.append(\"base64image\", value.base64image);\r\n        formImageData.append(\"fileName\", value.fileName);\r\n        formImageData.append(\"fileType\", value.fileType);\r\n        dbClient.customizedPages.addImage(id, formImageData, refresh)\r\n    }\r\n    cancel() {\r\n        this.setState({creation: false});\r\n    }\r\n    setName(event) {\r\n        this.setState({name: event.target.value});\r\n    }\r\n    setValue(file) {\r\n        this.setState({value: file});\r\n    }\r\n\r\n    render() {\r\n        const {creation, name, value} = this.state;\r\n        if(!creation)\r\n            return <div className=\"card-body\">\r\n                <div className=\"btn-group\" role=\"group\">\r\n                    <button type=\"button\" className=\"btn btn-primary\" onClick={this.create}>Add new image</button>\r\n                </div>\r\n            </div>;\r\n\r\n        return <div className=\"card-body text-white bg-info\">\r\n                Create new image section:\r\n                <InputText label=\"Name\" inputValue={name} onChange={this.setName} />\r\n                <InputFile label=\"Value\" inputValue={value} onChange={this.setValue} />\r\n                <div className=\"btn-group mt-3\" role=\"group\">\r\n                    <button className=\"btn btn-success\" type=\"button\" onClick={this.save}>Save</button>\r\n                    <button className=\"btn btn-secondary\" type=\"button\" onClick={this.cancel}>Cancel</button>\r\n                </div>\r\n            </div>;\r\n    }\r\n}\r\n\r\nexport default ImageCreate;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/common/image/ImageCreate.jsx","import React from 'react';\r\nimport InputText from '../common/forms/InputText';\r\nimport dbClient from '../../../utils/dbClient';\r\n\r\nclass CustomizedPageMeta extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            disabled: true,\r\n            name: props.page.name,\r\n            value: props.page.value\r\n        };\r\n        this.setName = this.setName.bind(this);\r\n        this.setValue = this.setValue.bind(this);\r\n        this.edit = this.edit.bind(this);\r\n        this.cancel = this.cancel.bind(this);\r\n        this.save = this.save.bind(this);\r\n    }\r\n    edit() {\r\n        this.setState({disabled: false});\r\n    }\r\n    save() {\r\n        const {name, value} = this.state;\r\n        const {page, refresh} = this.props;\r\n        dbClient.customizedPages.edit({...page, ...{name, value}}, refresh);\r\n        this.setState({disabled: true});\r\n    }\r\n    cancel() {\r\n        this.setState({disabled: true});\r\n    }\r\n    setName(event) {\r\n        this.setState({name: event.target.value});\r\n    }\r\n    setValue(event) {\r\n        this.setState({value: event.target.value});\r\n    }\r\n\r\n    render() {\r\n        const {urlId} = this.props;\r\n        const {disabled, name, value} = this.state;\r\n        return <React.Fragment>\r\n            <div className=\"card-header text-white bg-secondary\">\r\n                <h4>Customized page ({urlId})</h4>\r\n            </div>\r\n            <div className={disabled ? \"card-body\" : \"card-body text-white bg-info\"}>\r\n                <InputText disabled={true} label=\"Name\" inputValue={name} onChange={this.setName} />\r\n                <InputText disabled={disabled} label=\"Value\" inputValue={value} onChange={this.setValue} />\r\n                <div className=\"btn-group\" role=\"group\">\r\n                        {disabled && <button className=\"btn btn-primary\" type=\"button\" onClick={this.edit}>Edit</button>}\r\n                        {!disabled && <button className=\"btn btn-success\" type=\"button\" onClick={this.save}>Save</button>}\r\n                        {!disabled && <button className=\"btn btn-secondary\" type=\"button\" onClick={this.cancel}>Cancel</button>}\r\n                </div>\r\n            </div>\r\n        </React.Fragment>;\r\n    }\r\n}\r\n\r\nexport default CustomizedPageMeta;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/customized/CustomizedPageMeta.jsx","import React from 'react';\r\n\r\nclass NotFoundPage extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <p>404: Page not found</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default NotFoundPage;\n\n\n// WEBPACK FOOTER //\n// src/components/admin/NotFoundPage.jsx","import React from 'react';\r\n\r\nclass ForbiddenPage extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <p>Access denied</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ForbiddenPage;\n\n\n// WEBPACK FOOTER //\n// src/components/public/ForbiddenPage.jsx","import React from 'react';\r\nimport {\r\n    Link, withRouter\r\n} from 'react-router-dom';\r\nimport {connect} from \"react-redux\";\r\nimport LogoutButton from \"./LogoutButton\";\r\n\r\n\r\nclass MainNavbar extends React.Component {\r\n    render() {\r\n        const {authenticated, loggedUser} = this.props;\r\n        return (\r\n            <nav className=\"navbar navbar-expand-md navbar-dark bg-dark\">\r\n                <div className=\"navbar-collapse collapse w-100 order-1 order-md-0 dual-collapse2\">\r\n                    <span className=\"navbar-brand  mr-auto\" >Bongo Admin</span>\r\n                </div>\r\n                <div className=\"navbar-collapse collapse w-100 order-3 dual-collapse2\">\r\n                    {!authenticated && <span className=\"navbar-nav ml-auto\">\r\n                         <Link to=\"/loginPage\">\r\n                            <button className=\"btn btn-sm btn-outline-secondary ml-1\" type=\"button\">\r\n                                Login\r\n                            </button>\r\n                         </Link>\r\n\r\n                    </span>}\r\n                    {authenticated && <span className=\"navbar-nav ml-auto\">\r\n                            <span className=\"navbar-brand mb-0\">Logged as <strong>{loggedUser}</strong></span>\r\n                            <LogoutButton />\r\n                            <Link to=\"/admin\">\r\n                                <button className=\"btn btn-sm btn-outline-secondary ml-1\" type=\"button\">\r\n                                    Admin\r\n                                </button>\r\n                            </Link>\r\n                    </span>}\r\n                </div>\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        loggedUser: state.loggedUser,\r\n        authenticated: state.authenticated\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(MainNavbar));\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/public/MainNavbar.jsx","import React from 'react';\r\nimport dbClient from \"../../utils/dbClient\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    Link, withRouter, Redirect\r\n} from 'react-router-dom';\r\n\r\nclass LogoutButton extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.logout = this.logout.bind(this);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <a>\r\n                <button onClick={this.logout} className=\"btn btn-sm btn-outline-secondary ml-1\" type=\"button\">\r\n                    Logout\r\n                </button>\r\n            </a>\r\n        )\r\n    }\r\n\r\n    logout() {\r\n        const {logout, history} = this.props;\r\n        dbClient.auth.logout(\r\n            () => {\r\n                logout();\r\n                history.push('/logoutPage');\r\n            });\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        logout: () => {\r\n            dispatch({type: \"LOG_OUT\"})\r\n        }\r\n    };\r\n};\r\n\r\nexport default withRouter(connect(null, mapDispatchToProps)(LogoutButton));\n\n\n// WEBPACK FOOTER //\n// src/components/public/LogoutButton.jsx","import React from 'react'\r\nimport {\r\n    BrowserRouter as Router,\r\n    Route,\r\n    Link,\r\n    Redirect,\r\n    withRouter\r\n} from 'react-router-dom'\r\n\r\nimport authenticationHandler from '../../utils/authenticationHandler';\r\n\r\nconst PrivateRoute = ({ component: Component, authenticated, ...rest }) => (\r\n    <Route {...rest} render={(props) => {\r\n        return authenticated\r\n            ? <Component {...props} />\r\n            : <Redirect to={{\r\n                pathname: '/loginPage',\r\n                state: {from: props.location}\r\n            }}/>\r\n\r\n\r\n    }} />\r\n)\r\nexport default PrivateRoute;\n\n\n// WEBPACK FOOTER //\n// src/components/auth/PrivateRoute.jsx","import React from 'react'\r\nimport {\r\n    BrowserRouter as Router,\r\n    Route,\r\n    Link,\r\n    Redirect,\r\n    withRouter\r\n} from 'react-router-dom'\r\n\r\nimport authenticationHandler from '../../utils/authenticationHandler';\r\n\r\n\r\nclass ProtectedRoute extends React.Component {\r\n\r\n    render() {\r\n        const { component: Component, authenticated, ...rest } = this.props;\r\n        return <Route {...rest} render={(props) => {\r\n            return authenticated\r\n                ? <Component {...props} />\r\n                : <Redirect to={{\r\n                    pathname: '/loginPage',\r\n                    state: {from: props.location}\r\n                }}/>\r\n        }} />\r\n    }\r\n}\r\nexport default ProtectedRoute;\n\n\n// WEBPACK FOOTER //\n// src/components/auth/ProtectedRoute.jsx","var passport = require('passport'),\r\n    LocalStrategy = require('passport-local'),\r\n    User = require('../../db/schema/user');\r\n\r\nconst LOGIN_ROUTE = \"/login\";\r\nconst LOGOUT_ROUTE = \"/logout\";\r\nconst AUTH_CHECK_ROUTE = \"/authcheck\";\r\nconst REGISTER_ROUTE = \"/register\";\r\n\r\nfunction addAuthRoutes(app) {\r\n\r\n    let isAuthenticated = false;\r\n\r\n    app.use(passport.initialize());\r\n    app.use(passport.session());\r\n    passport.use(new LocalStrategy(User.authenticate()));\r\n    passport.serializeUser(User.serializeUser());\r\n    passport.deserializeUser(User.deserializeUser());\r\n\r\n\r\n    app.get(LOGIN_ROUTE, function(req, res){\r\n        isAuthenticated = true;\r\n        res.send({status: 200});\r\n    });\r\n\r\n    app.post(LOGIN_ROUTE,  passport.authenticate('local'),\r\n        function(req, res){\r\n            res.send({status: 200});\r\n    });\r\n\r\n    app.get(LOGOUT_ROUTE, function(req, res){\r\n        req.logout();\r\n        res.send({status: isAuthenticated});\r\n    });\r\n\r\n    app.get(AUTH_CHECK_ROUTE, function(req, res){\r\n        res.send({status: isAuthenticated});\r\n    });\r\n\r\n    app.post(REGISTER_ROUTE, function(req, res){\r\n        User.register(new User({username: req.body.username, displayName: req.body.displayName}),\r\n            req.body.password, function(err, user){\r\n            if(err){\r\n                console.log(err);\r\n            }else{\r\n                passport.authenticate(\"local\")(req, res, function(){\r\n                });\r\n            }\r\n        })\r\n    });\r\n\r\n\r\n\r\n}\r\n\r\nexport default addAuthRoutes;\n\n\n// WEBPACK FOOTER //\n// src/server/routes/auth-routes.js","module.exports = require(\"passport-local\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport-local\"\n// module id = 61\n// module chunks = 0","module.exports = require(\"passport-local-mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport-local-mongoose\"\n// module id = 62\n// module chunks = 0","var passport = require('passport'),\r\n    User = require('../../db/schema/user');\r\n\r\nconst USER_ROUTE = \"/users\";\r\nconst USER_ID_ROUTE = \"/users/:id\";\r\n\r\n\r\nfunction addUsersRoutes(app) {\r\n\r\n    addDefaultUser();\r\n\r\n    app.get(USER_ROUTE, function(req, res){\r\n        User.find({}, function(err, userList) {\r\n            res.send(userList);\r\n        });\r\n    });\r\n\r\n    app.get(USER_ID_ROUTE, function(req, res){\r\n        User.findOne({_id: req.params.id}, function(err, user) {\r\n            res.send(user);\r\n        });\r\n    });\r\n\r\n    app.post(USER_ID_ROUTE, function(req, res){\r\n        const userModel = {\r\n            username: req.body.username,\r\n            displayName: req.body.displayName\r\n        };\r\n\r\n        User.register(new User(userModel),\r\n            req.body.password, function(err, user){\r\n                if(err){\r\n                    console.log(err);\r\n                }else{\r\n                    passport.authenticate(\"local\")(req, res, function(){\r\n                        res.send(user);\r\n                    });\r\n                }\r\n            })\r\n    });\r\n\r\n    app.delete(USER_ID_ROUTE, function(req, res){\r\n        User.findOne({_id: req.params.id}, function(err, foundUser) {\r\n            if(foundUser) {\r\n                foundUser.remove();\r\n                res.send(foundUser);\r\n            }\r\n        });\r\n    });\r\n\r\n    app.put(USER_ID_ROUTE, function(req, res){\r\n        const userModel = {\r\n            username: req.body.username,\r\n            displayName: req.body.displayName\r\n        };\r\n        User.findOne({_id: req.params.id}, function(err, foundUser) {\r\n            if(foundUser) {\r\n                foundUser.username = userModel.username;\r\n                foundUser.displayName = userModel.displayName;\r\n                foundUser.save();\r\n                res.send(foundUser);\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\nconst DEFAULT_ADMIN_USERNAME = \"admin\";\r\nconst DEFAULT_ADMIN_DISPLAY_NAME = \"default admin\";\r\nconst DEFAULT_ADMIN_PASSWORD = \"admin\";\r\n\r\nfunction addDefaultUser() {\r\n    User.find({}, function(err, userList) {\r\n        if(!userList.length) {\r\n            User.register(new User({\r\n                    username: DEFAULT_ADMIN_USERNAME,\r\n                    displayName: DEFAULT_ADMIN_DISPLAY_NAME\r\n                }),\r\n                DEFAULT_ADMIN_PASSWORD, function(err, user){\r\n                    if(err){\r\n                        console.log(err);\r\n                    }\r\n                })\r\n        }\r\n    });\r\n}\r\n\r\nexport default addUsersRoutes;\n\n\n// WEBPACK FOOTER //\n// src/server/routes/user-routes.js","import CustomizedPage from '../../db/schema/customized-page';\r\n\r\nconst CUSTOMIZED_PAGE_ROUTE = \"/customizedPages\";\r\nconst CUSTOMIZED_PAGE_NAME_ROUTE = \"/customizedPages/:name\";\r\nconst CUSTOMIZED_PAGE_ID_ROUTE = \"/customizedPages/:id\";\r\nconst CUSTOMIZED_PAGE_HEADING_ID_ROUTE = \"/customizedPages/heading/:id\";\r\nconst CUSTOMIZED_PAGE_PARAGRAPH_ID_ROUTE = \"/customizedPages/paragraph/:id\";\r\nconst CUSTOMIZED_PAGE_IMAGE_ID_ROUTE = \"/customizedPages/image/:id\";\r\n\r\nimport multer from 'multer';\r\nconst upload = multer({ dest: 'uploads/' });\r\n\r\nfunction addCustomizedPageRoutes(app) {\r\n\r\n    /*\r\n     * Customzied Page CRUD\r\n     */\r\n\r\n    app.get(CUSTOMIZED_PAGE_ROUTE, function(req, res){\r\n        CustomizedPage.find({}, function(err, customizedPage) {\r\n            res.send(customizedPage);\r\n        });\r\n    });\r\n\r\n    app.get(CUSTOMIZED_PAGE_NAME_ROUTE, function(req, res){\r\n        CustomizedPage.findOne({name: req.params.name}, function(err, customizedPage) {\r\n            res.send(customizedPage);\r\n        });\r\n    });\r\n\r\n    app.post(CUSTOMIZED_PAGE_ROUTE, function(req, res){\r\n        const newCustomizedPage = new CustomizedPage(req.body);\r\n        newCustomizedPage.save(function (err, newCustomizedPage) {\r\n            if (err) return console.error(err);\r\n            res.send(newCustomizedPage);\r\n        });\r\n    });\r\n\r\n    app.delete(CUSTOMIZED_PAGE_ID_ROUTE, function(req, res){\r\n        CustomizedPage.findOne({_id: req.params.id}, function(err, foundPage) {\r\n            if(foundPage) {\r\n                foundPage.remove();\r\n                res.send(foundPage);\r\n            }\r\n        });\r\n    });\r\n\r\n    app.put(CUSTOMIZED_PAGE_ROUTE, function(req, res){\r\n        CustomizedPage.findOneAndUpdate(\r\n            {_id: req.body._id},\r\n            req.body,\r\n            {upsert:true},\r\n            function(err, page) {\r\n                if (err) return res.send(500, { error: err });\r\n                return res.send(page);\r\n            }\r\n        );\r\n    });\r\n\r\n    /*\r\n     * Headings - Customzied Page CRUD\r\n     */\r\n\r\n    app.post(CUSTOMIZED_PAGE_HEADING_ID_ROUTE, function(req, res){\r\n        CustomizedPage.findOne({_id: req.params.id}, function(err, foundPage) {\r\n            if(foundPage) {\r\n                if(!foundPage.headings)\r\n                    foundPage.headings = [];\r\n                foundPage.headings.push(req.body);\r\n                foundPage.save();\r\n                res.send(foundPage);\r\n            }\r\n        });\r\n    });\r\n\r\n    app.put(CUSTOMIZED_PAGE_HEADING_ID_ROUTE, function(req, res){\r\n        CustomizedPage.findOne({_id: req.params.id}, function(err, foundPage) {\r\n            if(foundPage && foundPage.headings) {\r\n                const index = foundPage.headings.findIndex(heading => heading.name === req.body.name);\r\n                foundPage.headings[index].value = req.body.value;\r\n                foundPage.save();\r\n                res.send(foundPage);\r\n            }\r\n        });\r\n    });\r\n\r\n    app.delete(CUSTOMIZED_PAGE_HEADING_ID_ROUTE, function(req, res){\r\n        CustomizedPage.findOne({_id: req.params.id}, function(err, foundPage) {\r\n            if(foundPage && foundPage.headings) {\r\n                const filteredHeadings = foundPage.headings.filter(heading => heading.name !== req.body.name);\r\n                foundPage.headings = filteredHeadings;\r\n                foundPage.save();\r\n                res.send(foundPage);\r\n            }\r\n        });\r\n    });\r\n\r\n    /*\r\n     * PArgraphs - Customized Page CRUD\r\n     */\r\n\r\n    app.post(CUSTOMIZED_PAGE_PARAGRAPH_ID_ROUTE, function(req, res){\r\n        CustomizedPage.findOne({_id: req.params.id}, function(err, foundPage) {\r\n            if(foundPage) {\r\n                if(!foundPage.paragraphs)\r\n                    foundPage.paragraphs = [];\r\n                foundPage.paragraphs.push(req.body);\r\n                foundPage.save();\r\n                res.send(foundPage);\r\n            }\r\n        });\r\n    });\r\n\r\n    app.put(CUSTOMIZED_PAGE_PARAGRAPH_ID_ROUTE, function(req, res){\r\n        CustomizedPage.findOne({_id: req.params.id}, function(err, foundPage) {\r\n            if(foundPage && foundPage.paragraphs) {\r\n                const index = foundPage.paragraphs.findIndex(heading => heading.name === req.body.name);\r\n                foundPage.paragraphs[index].value = req.body.value;\r\n                foundPage.save();\r\n                res.send(foundPage);\r\n            }\r\n        });\r\n    });\r\n\r\n    app.delete(CUSTOMIZED_PAGE_PARAGRAPH_ID_ROUTE, function(req, res){\r\n        CustomizedPage.findOne({_id: req.params.id}, function(err, foundPage) {\r\n            if(foundPage && foundPage.paragraphs) {\r\n                const filteredParagraphs = foundPage.paragraphs.filter(heading => heading.name !== req.body.name);\r\n                foundPage.paragraphs = filteredParagraphs;\r\n                foundPage.save();\r\n                res.send(foundPage);\r\n            }\r\n        });\r\n    });\r\n\r\n    /*\r\n     * Images - Customzied Page CRUD\r\n     */\r\n\r\n    app.post(CUSTOMIZED_PAGE_IMAGE_ID_ROUTE, upload.single('value'), function(req, res){\r\n        CustomizedPage.findOne({_id: req.params.id}, function(err, foundPage) {\r\n            if(foundPage) {\r\n                if(!foundPage.images)\r\n                    foundPage.images = [];\r\n                const {name, base64image, fileName, fileType} = req.body;\r\n                foundPage.images.push({\r\n                    name,\r\n                    value: {\r\n                        buffer: Buffer.from(base64image, 'base64'),\r\n                        fileName,\r\n                        fileType\r\n                    }\r\n                });\r\n                foundPage.save();\r\n                res.send({status: 200});\r\n            }\r\n        });\r\n    });\r\n    app.put(CUSTOMIZED_PAGE_IMAGE_ID_ROUTE, upload.single('value'), function(req, res){\r\n        CustomizedPage.findOne({_id: req.params.id}, function(err, foundPage) {\r\n            if(foundPage && foundPage.images) {\r\n                const {name, base64image, fileName, fileType} = req.body;\r\n                const index = foundPage.images.findIndex(image => image.name === name);\r\n                foundPage.images[index].value = {\r\n                    buffer: Buffer.from(base64image, 'base64'),\r\n                    fileName,\r\n                    fileType\r\n                };\r\n                foundPage.save();\r\n                res.send({status: 200});\r\n            }\r\n        });\r\n    });\r\n    app.delete(CUSTOMIZED_PAGE_IMAGE_ID_ROUTE, function(req, res){\r\n        CustomizedPage.findOne({_id: req.params.id}, function(err, foundPage) {\r\n            if(foundPage && foundPage.images) {\r\n                const filteredImages = foundPage.images.filter(image => image.name !== req.body.name);\r\n                foundPage.images = filteredImages;\r\n                foundPage.save();\r\n                res.send(foundPage);\r\n            }\r\n        });\r\n    });\r\n}\r\n\r\n\r\nexport default addCustomizedPageRoutes;\n\n\n// WEBPACK FOOTER //\n// src/server/routes/customized-page-routes.js","import mongoose from 'mongoose';\r\n\r\nconst CustomizedPageSchema = new mongoose.Schema({\r\n    name: String,\r\n    value: String,\r\n    dispalyName: String,\r\n    headings: [{\r\n        name: String,\r\n        value: String\r\n    }],\r\n    paragraphs: [{\r\n        name: String,\r\n        value: String\r\n    }],\r\n    images: [{\r\n        name: String,\r\n        value: {\r\n            buffer: { type: Buffer, contentType: String },\r\n            fileName: String,\r\n            fileType: String\r\n        }\r\n    }]\r\n});\r\n\r\nconst CustomizedPage = mongoose.model(\"CustomizedPage\", CustomizedPageSchema);\r\n\r\nmodule.exports = CustomizedPage;\n\n\n// WEBPACK FOOTER //\n// src/db/schema/customized-page.js","module.exports = require(\"multer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"multer\"\n// module id = 66\n// module chunks = 0","module.exports = require(\"express-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-session\"\n// module id = 67\n// module chunks = 0"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC7DA;;;;;;ACAA;;;;;;;;;;;;;ACAA;AACA;;;AACA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;;;AACA;AACA;AACA;AACA;AAHA;AACA;AAMA;;;;;;;;;;;;;;;ACbA;AACA;;;;;;;;;;;AACA;;;;;;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAJA;AAaA;;;;AAhBA;AACA;AAkBA;;;;;;ACrBA;;;;;;ACAA;;;;;;ACAA;;;;;;;;;;;;;ACAA;AACA;;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AANA;AAQA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AANA;AAQA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAvDA;AACA;AAyDA;;;;;;ACnEA;;;;;;;;;;;;;;;;;AC2EA;AACA;AA5EA;AACA;;;AAAA;AACA;;;;;;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AACA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;;AACA;AACA;AADA;AAIA;AACA;AAAA;AACA;AADA;AAAA;AAGA;AACA;;;;;AACA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAKA;;;;AAzBA;AACA;AA2BA;AAAA;AAAA;AACA;AADA;AACA;AAIA;AACA;AAFA;AAHA;AADA;AACA;AAUA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAFA;AAAA;AADA;AAMA;AAAA;AAAA;AAAA;AARA;AACA;AAWA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AACA;AACA;AARA;AADA;AAaA;;;;;;;;;;;;;;;AC1FA;AACA;;;;;;;;;;;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AAHA;AAIA;AACA;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAAA;AAAA;AAAA;AAAA;AARA;AAJA;AAeA;AAAA;AAAA;AACA;AADA;AAhBA;AAoBA;;;;AA5CA;AACA;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;ACpFA;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;;;;;;;;;ACAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AACA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;AAAA;AACA;AAAA;AACA;;;AAAA;AACA;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAFA;AAIA;AAEA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AADA;AADA;AAMA;AACA;AACA;AAAA;AACA;AArBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAsBA;AAAA;AAAA;;;;;;ACjEA;;;;;;ACAA;;;;;;ACAA;;;;;;ACAA;;;;;;ACAA;;;;;;;;;;;;;;;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAYA;;;;;;ACbA;;;;;;;;;;;;;;;ACAA;AACA;;;AAAA;AACA;;;;;;;;;;;AACA;;;;;;;;;;;AAOA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAIA;AAAA;AAAA;AACA;AACA;AADA;AAGA;AAEA;AACA;AADA;AADA;AAMA;AACA;AACA;AAbA;AALA;AAsBA;;;;AAjCA;AACA;AADA;AAEA;AACA;AACA;AAHA;AAmCA;;;;;;;;;;;;;;;ACvCA;AACA;;;AAAA;AACA;AAAA;AACA;AAEA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AACA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AACA;AACA;;;;;;;;;;;AAEA;;;AAEA;AAAA;AACA;AADA;AACA;AADA;AACA;AAEA;AACA;AADA;AAGA;AANA;AAOA;AACA;;;AACA;AACA;AACA;;;AAGA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AADA;AAHA;AAeA;;;;AAlCA;AACA;AAoCA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AC1DA;AACA;;;AAAA;AACA;AAGA;AACA;;;AAAA;AACA;;;;;;;;;AACA;;;AAEA;AAAA;AACA;AADA;AACA;AADA;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxCA;AACA;AACA;AAFA;AAIA;AACA;AACA;AARA;AASA;AACA;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAGA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;;;AAYA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAKA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAhBA;AAuBA;;;;AA5EA;AACA;AA8EA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACnGA;AACA;;;;;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AANA;AAQA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAFA;AAOA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AANA;AAQA;AAAA;AAEA;AACA;AACA;AA1DA;AACA;AA4DA;;;;;;;;;;;;;AC/DA;AACA;;;;;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AANA;AASA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AA3BA;AACA;AA6BA;;;;;;;;;;;;;AChCA;AACA;;;;;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AANA;AAQA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AANA;AAQA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AANA;AAQA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AANA;AAQA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AANA;AAQA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AANA;AAQA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AANA;AAQA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AANA;AAQA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAIA;AAAA;AAEA;AACA;AACA;AACA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;;;;;;;;;;;;;ACxCA;AACA;;;AAAA;AACA;AAGA;AACA;;;AACA;AACA;;;;;;;;;;;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AARA;AASA;AACA;;;AAAA;AACA;AACA;;;AACA;AACA;AACA;;;AACA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAGA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AANA;AAJA;AADA;AAgBA;;;;AAhDA;AACA;AAkDA;;;;;;;;;;;;;;;AC5DA;AACA;;;AAAA;AACA;AAGA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AACA;AACA;;;;;;;;;;;AACA;;;AAEA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AALA;AAMA;AACA;;;AAAA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AALA;AADA;AAeA;;;;AAjDA;AACA;AAmDA;;;;;;;;;;;;;;;AChEA;AACA;;;AAAA;AACA;AAIA;AACA;;;AAAA;AACA;;;;;;;;;;;AACA;;;;;;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAGA;AANA;AASA;;;;AAbA;AACA;AAeA;;;;;;;;;;;;;;;ACzBA;AACA;;;AAAA;AACA;AAGA;AACA;;;AAAA;AACA;;;;;;;;;;;AACA;;;AACA;AAAA;AACA;AADA;AACA;A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DA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAJA;AAaA;;;;AAhBA;AACA;AAkBA;;;;;;;;;;;;;;;ACrBA;AACA;;;AAAA;AACA;AAIA;AACA;;;AAAA;AACA;;;;;;;;;;;AACA;;;;;;;;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAGA;AANA;AASA;;;;AAfA;AACA;AAiBA;;;;;;;;;;;;;;;AC3BA;AACA;;;AAAA;AACA;AAGA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;;;;;;;;;AACA;;;AACA;AAAA;AACA;AADA;AACA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AAZA;AAaA;AACA;;;AAAA;AACA;AACA;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;AACA;AACA;AACA;;;AACA;AACA;AACA;;;AACA;AACA;AACA;;;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAJA;AAHA;AAUA;;;;AAvDA;AACA;AAyDA;;;;;;;;;;;;;;;ACnEA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;;;;;;;;;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAXA;AAYA;AACA;;;AAAA;AACA;AACA;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;;;AACA;AACA;AACA;;;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AADA;AACA;AAKA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAJA;AASA;;;;AAvDA;AACA;AAyDA;;;;;;;;;;;;;;;;;AC/DA;AACA;;;AAAA;AACA;;;AAAA;AACA;;;;;;;;;;;AACA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAXA;AAYA;AACA;;;AAAA;AACA;AACA;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;;;AACA;AACA;AACA;;;AACA;AACA;AACA;;;AACA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AAHA;AAJA;AAcA;;;;AAlDA;AACA;AAoDA;;;;;;;;;;;;;;;ACzDA;AACA;;;;;;;;;;;AACA;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAIA;;;;AARA;AACA;AAUA;;;;;;;;;;;;;;;ACbA;AACA;;;;;;;;;;;AACA;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAIA;;;;AARA;AACA;AAUA;;;;;;;;;;;;;;;ACbA;AACA;;;AAAA;AACA;AAEA;AACA;AAAA;AACA;;;;;;;;;;;AAEA;;;;;;;;;;;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AADA;AAQA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAHA;AATA;AAJA;AAyBA;;;;AA7BA;AACA;AA+BA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;;;;;;;;;;;;;;;AC/CA;AACA;;;AAAA;AACA;;;AAAA;AACA;AAAA;AACA;;;;;;;;;AAGA;;;AACA;AAAA;AACA;AADA;AACA;AACA;AAFA;AAGA;AACA;;;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AADA;AAMA;;;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;AAvBA;AACA;AAyBA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;;;;;;;;;;;;;;;ACzCA;AACA;;;AAAA;AACA;AAOA;AACA;;;;;;;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AAGA;AACA;AAFA;AAMA;AAVA;AAYA;;;;;;;;;;;;;;;;;ACvBA;AACA;;;AAAA;AACA;AAOA;AACA;;;;;;;;;;;;;AAEA;;;;;;;;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAGA;AACA;AAFA;AAIA;AACA;;;;AAZA;AACA;AAaA;;;;;;;;;;;;AC1BA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAIA;AACA;AACA;;;;;;ACvDA;;;;;;ACAA;;;;;;;;;;;;ACAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACtFA;AACA;;;AAQA;AACA;;;;;AARA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;AC1LA;AACA;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AAHA;AAFA;AAZA;AACA;AAqBA;AACA;AACA;;;;;;AC1BA;;;;;;ACAA;;;A","sourceRoot":""}